{"ast":null,"code":"var _jsxFileName = \"/Users/IZZZZZY/cymatics/project-3/project-3-frontend/src/App.js\";\nimport React from 'react';\nimport './App.css';\nimport LoginRegisterForm from \"../LoginRegisterForm\";\nexport default class App extends Component {\n  constructor() {\n    super();\n\n    this.register = async registration => {\n      const url = process.env.REACT_APP_API_URL + \"/api/v1/users/register\";\n\n      try {\n        const registerResponse = await fetch(url, {\n          credentials: 'include',\n          'method': \"POST\",\n          'body': JSON.stringify(registration),\n          \"headers\": {\n            \"Content-Type\": 'application/json'\n          }\n        });\n        const registerJson = await registerResponse.json();\n\n        if (registerResponse.status === 201) {\n          this.setState({\n            loggedIn: true,\n            loggedInUserEmail: registerJson.data.email\n          });\n        }\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    this.login = async loginInfo => {\n      const url = process.env.REACT_APP_API_URL + \"/api/v1/users/login\";\n\n      try {\n        const loginResponse = await fetch(url, {\n          credentials: 'include',\n          'method': \"POST\",\n          'body': JSON.stringify(loginInfo),\n          'headers': {\n            'Content-Type': 'application/json'\n          }\n        });\n        const loginJson = await loginResponse.json();\n\n        if (loginResponse.status === 200) {\n          this.setState({\n            loggedIn: true,\n            loggedInUserEmail: loginJson.data.email\n          });\n        }\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    this.state = {\n      loggedIn: false,\n      loggedInUserEmail: ''\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(LoginRegisterForm, {\n      login: this.login,\n      register: this.register,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 5\n      }\n    }));\n  }\n\n}","map":{"version":3,"sources":["/Users/IZZZZZY/cymatics/project-3/project-3-frontend/src/App.js"],"names":["React","LoginRegisterForm","App","Component","constructor","register","registration","url","process","env","REACT_APP_API_URL","registerResponse","fetch","credentials","JSON","stringify","registerJson","json","status","setState","loggedIn","loggedInUserEmail","data","email","err","console","log","login","loginInfo","loginResponse","loginJson","state","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,WAAP;AACA,OAAOC,iBAAP,MAA8B,sBAA9B;AAEA,eAAe,MAAMC,GAAN,SAAkBC,SAAlB,CAA2B;AACxCC,EAAAA,WAAW,GAAE;AACX;;AADW,SAQbC,QARa,GAQF,MAAOC,YAAP,IAAsB;AAC/B,YAAMC,GAAG,GAAGC,OAAO,CAACC,GAAR,CAAYC,iBAAZ,GAA+B,wBAA3C;;AACA,UAAG;AACD,cAAMC,gBAAgB,GAAG,MAAMC,KAAK,CAACL,GAAD,EAAM;AACxCM,UAAAA,WAAW,EAAC,SAD4B;AAExC,oBAAU,MAF8B;AAGxC,kBAAQC,IAAI,CAACC,SAAL,CAAeT,YAAf,CAHgC;AAIxC,qBAAU;AACR,4BAAgB;AADR;AAJ8B,SAAN,CAApC;AAQA,cAAMU,YAAY,GAAG,MAAML,gBAAgB,CAACM,IAAjB,EAA3B;;AACA,YAAGN,gBAAgB,CAACO,MAAjB,KAA4B,GAA/B,EAAmC;AACjC,eAAKC,QAAL,CAAc;AACZC,YAAAA,QAAQ,EAAE,IADE;AAEZC,YAAAA,iBAAiB,EAAEL,YAAY,CAACM,IAAb,CAAkBC;AAFzB,WAAd;AAID;AACF,OAhBD,CAgBC,OAAMC,GAAN,EAAU;AACTC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD;AACF,KA7BY;;AAAA,SA8BbG,KA9Ba,GA8BL,MAAOC,SAAP,IAAmB;AACzB,YAAMrB,GAAG,GAAGC,OAAO,CAACC,GAAR,CAAYC,iBAAZ,GAAgC,qBAA5C;;AACA,UAAG;AACD,cAAMmB,aAAa,GAAG,MAAMjB,KAAK,CAACL,GAAD,EAAM;AACrCM,UAAAA,WAAW,EAAE,SADwB;AAErC,oBAAU,MAF2B;AAGrC,kBAAQC,IAAI,CAACC,SAAL,CAAea,SAAf,CAH6B;AAIrC,qBAAU;AACR,4BAAe;AADP;AAJ2B,SAAN,CAAjC;AASA,cAAME,SAAS,GAAG,MAAMD,aAAa,CAACZ,IAAd,EAAxB;;AACA,YAAGY,aAAa,CAACX,MAAd,KAAwB,GAA3B,EAA+B;AAC7B,eAAKC,QAAL,CAAc;AACZC,YAAAA,QAAQ,EAAE,IADE;AAEZC,YAAAA,iBAAiB,EAAES,SAAS,CAACR,IAAV,CAAeC;AAFtB,WAAd;AAID;AACF,OAjBD,CAiBC,OAAMC,GAAN,EAAU;AACTC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD;AACF,KApDY;;AAEX,SAAKO,KAAL,GAAW;AACTX,MAAAA,QAAQ,EAAC,KADA;AAETC,MAAAA,iBAAiB,EAAE;AAFV,KAAX;AAID;;AAgDHW,EAAAA,MAAM,GAAE;AACN,wBACE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA,oBAAC,iBAAD;AACE,MAAA,KAAK,EAAE,KAAKL,KADd;AAEE,MAAA,QAAQ,EAAE,KAAKtB,QAFjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,CADF;AAQD;;AAhEyC","sourcesContent":["import React from 'react';\nimport './App.css';\nimport LoginRegisterForm from \"../LoginRegisterForm\"\n\nexport default class App extends Component{\n  constructor(){\n    super()\n    this.state={\n      loggedIn:false,\n      loggedInUserEmail: ''\n    }\n  }\n\n  register = async (registration)=>{\n    const url = process.env.REACT_APP_API_URL +\"/api/v1/users/register\"\n    try{\n      const registerResponse = await fetch(url, {\n        credentials:'include',\n        'method': \"POST\",\n        'body': JSON.stringify(registration),\n        \"headers\":{\n          \"Content-Type\": 'application/json'\n        }\n      })\n      const registerJson = await registerResponse.json()\n      if(registerResponse.status === 201){\n        this.setState({\n          loggedIn: true,\n          loggedInUserEmail: registerJson.data.email\n        })\n      }\n    }catch(err){\n      console.log(err)\n    }\n  }\n  login = async (loginInfo)=>{\n    const url = process.env.REACT_APP_API_URL + \"/api/v1/users/login\"\n    try{\n      const loginResponse = await fetch(url, {\n        credentials: 'include',\n        'method': \"POST\",\n        'body': JSON.stringify(loginInfo),\n        'headers':{\n          'Content-Type':'application/json'\n        }\n\n      })\n      const loginJson = await loginResponse.json()\n      if(loginResponse.status ===200){\n        this.setState({\n          loggedIn: true,\n          loggedInUserEmail: loginJson.data.email\n        })\n      }\n    }catch(err){\n      console.log(err)\n    }\n  }\n\nrender(){\n  return (\n    <div className=\"App\">\n    <LoginRegisterForm\n      login={this.login}\n      register={this.register}\n    />\n    </div>\n  );\n}\n\n}"]},"metadata":{},"sourceType":"module"}